---
import { Icon } from "astro-icon/components";
import { Image } from "astro:assets";
import logo from "@/assets/dinoware-logo.svg";
---

<header
  id="site-header"
  class="bg-transparent text-white font-medium py-5 fixed w-full z-50 transition-all duration-300"
>
  <div class="max-w-7xl mx-auto px-6 flex items-center justify-between">
    <!-- Logo -->
    <div class="flex items-center gap-4">
      <Image src={logo} alt="Dinoware Logo" class="w-10" />
      <h1 class="text-2xl md:text-3xl text-secondary font-bold">Dinoware</h1>
    </div>

    <!-- Burger icon (mobile only) -->
    <button
      id="burger-btn"
      class="md:hidden text-white focus:outline-none"
      aria-label="Toggle menu"
    >
      <Icon name="bars-solid" class="w-7 h-7" />
    </button>

    <!-- Navegación Desktop -->
    <nav class="hidden md:flex items-center gap-8 text-lg">
      <a class="hover:text-secondary transition" href="/nosotros">Inicio</a>
      <a class="hover:text-secondary transition" href="/servicios">Servicios</a>
      <a class="hover:text-secondary transition" href="/precios">Proyectos</a>
      <a class="hover:text-secondary transition" href="/contacto">Tecnologías</a
      >
      <a class="hover:text-secondary transition" href="/contacto">Nosotros</a>
      <a class="hover:text-secondary transition" href="/contacto">Contáctanos</a
      >

      <div class="flex items-center gap-2 pl-4">
        <Icon name="globe-solid" />
        <span>ES | EN</span>
      </div>
    </nav>
  </div>

  <!-- Navegación Mobile (toggle via JS) -->
  <nav
    id="mobile-menu"
    class="hidden md:hidden px-6 pt-4 pb-6 flex-col gap-4 text-lg bg-secondary text-primary shadow-lg rounded-b-xl transition-all duration-300"
  >
    <a class="hover:underline transition" href="/nosotros">Inicio</a>
    <a class="hover:underline transition" href="/servicios">Servicios</a>
    <a class="hover:underline transition" href="/precios">Proyectos</a>
    <a class="hover:underline transition" href="/contacto">Tecnologías</a>
    <a class="hover:underline transition" href="/contacto">Nosotros</a>
    <a class="hover:underline transition" href="/contacto">Contáctanos</a>

    <div class="flex items-center gap-2 pt-4 border-t border-primary/20 mt-2">
      <Icon name="globe-solid" />
      <span>ES | EN</span>
    </div>
  </nav>

  <!-- Script inline para scroll y toggle -->
  <script is:inline>
    const header = document.getElementById("site-header");
    const burgerBtn = document.getElementById("burger-btn");
    const mobileMenu = document.getElementById("mobile-menu");

    window.addEventListener("scroll", () => {
      if (window.scrollY > 10) {
        header.classList.add("bg-primary", "shadow-md");
        header.classList.remove("bg-transparent");
      } else {
        header.classList.remove("bg-primary", "shadow-md");
        header.classList.add("bg-transparent");
      }
    });

    burgerBtn?.addEventListener("click", () => {
      mobileMenu.classList.toggle("hidden");
      mobileMenu.classList.toggle("flex");
    });
  </script>
</header>
